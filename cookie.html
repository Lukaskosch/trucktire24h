<!-- cookie.html (ins Root legen) -->
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cookie-Einstellungen – TruckTire24</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <style>
    :root{
      --bg:#f7f7f8; --text:#1f2937; --muted:#667085; --card:#ffffff; --border:#e5e7eb;
      --shadow:0 6px 18px rgba(0,0,0,.08); --radius:14px; --container:820px;
      --dark:#0f172a; --dark-border:#1f2937;
      --yellow1:#ffe24d; --yellow2:#fff700; --yellowBorder:#ffef8a;
    }
    *{box-sizing:border-box} html,body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,"Segoe UI",Arial,sans-serif}
    a{color:inherit}
    .wrap{max-width:var(--container);margin:32px auto;padding:0 16px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}
    h1{margin:0 0 12px;font-size:clamp(24px,4vw,32px)}
    p.muted{color:var(--muted);margin:0 0 14px}
    .row{display:flex;flex-direction:column;gap:10px;margin:16px 0}
    .opt{display:flex;align-items:flex-start;gap:12px;padding:12px;border:1px solid var(--border);border-radius:12px;background:#fff}
    .opt input{margin-top:4px;transform:scale(1.15)}
    .opt h3{margin:0 0 4px;font-size:16px}
    .opt p{margin:0;color:var(--muted);font-size:14px}
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .btn{appearance:none;cursor:pointer;border-radius:999px;border:1px solid transparent;padding:12px 18px;font-weight:800}
    .btn.dark{background:var(--dark);border-color:var(--dark-border);color:#fff}
    .btn.yellow{background:linear-gradient(90deg,var(--yellow1),var(--yellow2));border:1px solid var(--yellowBorder);color:#111}
    .btn.ghost{background:#fff;border:1px dashed #cdd6e1;color:#183652}
    .note{margin-top:8px;color:var(--muted);font-size:13px}
    .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;background:#111827;color:#fff;padding:10px 14px;border-radius:12px;box-shadow:0 8px 22px rgba(0,0,0,.25);display:none}
  </style>
  <!-- Banner-Script kann auf dieser Seite ebenfalls eingebunden sein;
       es zeigt dank Erkennung (cookie.html) keinen Banner an -->
  <script src="cookie-banner.js" defer></script>
</head>
<body>
  <main class="wrap">
    <div class="card">
      <h1>Cookie-Einstellungen</h1>
      <p class="muted">Hier kannst du optionale Dienste aktivieren oder deaktivieren. Notwendige Cookies sind immer aktiv.</p>

      <div class="row">
        <label class="opt">
          <input type="checkbox" id="opt-analytics">
          <div>
            <h3>Analyse (z. B. Besucherstatistiken)</h3>
            <p>Hilft uns zu verstehen, wie die Seite genutzt wird.</p>
          </div>
        </label>

        <label class="opt">
          <input type="checkbox" id="opt-marketing">
          <div>
            <h3>Marketing</h3>
            <p>Zur Anzeige relevanter Inhalte und Angebote.</p>
          </div>
        </label>
      </div>

      <div class="actions">
        <button class="btn dark" id="save">Speichern</button>
        <button class="btn yellow" id="acceptAll">Alle akzeptieren</button>
        <button class="btn ghost" id="onlyNecessary">Nur notwendige</button>
        <a class="btn ghost" href="index.html" role="button">Zurück zur Startseite</a>
      </div>

      <div class="note">Du kannst diese Auswahl jederzeit über den Link „Cookie-Einstellungen“ im Footer ändern.</div>
    </div>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite">Einstellungen gespeichert.</div>

  <script>
    (function(){
      const KEY='tt24Consent';
      const get=()=>{ try{return JSON.parse(localStorage.getItem(KEY));}catch(e){return null;} };
      const set=(o)=>{ const s={necessary:true,analytics:!!o.analytics,marketing:!!o.marketing,ts:new Date().toISOString()}; localStorage.setItem(KEY,JSON.stringify(s)); window.dispatchEvent(new CustomEvent('tt24ConsentChanged',{detail:s})); return s; };
      const toast=(msg)=>{ const t=document.getElementById('toast'); t.textContent=msg||'Gespeichert.'; t.style.display='block'; setTimeout(()=>t.style.display='none',1600); };

      const c=get()||{necessary:true,analytics:false,marketing:false};
      document.getElementById('opt-analytics').checked = !!c.analytics;
      document.getElementById('opt-marketing').checked = !!c.marketing;

      document.getElementById('save').addEventListener('click', ()=>{
        set({
          analytics: document.getElementById('opt-analytics').checked,
          marketing: document.getElementById('opt-marketing').checked
        });
        toast('Einstellungen gespeichert.');
      });

      document.getElementById('acceptAll').addEventListener('click', ()=>{
        set({analytics:true,marketing:true});
        document.getElementById('opt-analytics').checked = true;
        document.getElementById('opt-marketing').checked = true;
        toast('Alle akzeptiert.');
      });

      document.getElementById('onlyNecessary').addEventListener('click', ()=>{
        set({analytics:false,marketing:false});
        document.getElementById('opt-analytics').checked = false;
        document.getElementById('opt-marketing').checked = false;
        toast('Nur notwendige aktiv.');
      });
    })();
  </script>
</body>
</html>

